<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Runner Event System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body class="bg-gray-100 min-h-screen text-gray-800 font-sans pb-20">

  <header class="bg-blue-600 text-white p-4 shadow-md sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-xl font-bold">üèÉ‚Äç‚ôÇÔ∏è Runner App</h1>
      <div id="user-profile" class="flex items-center space-x-2 hidden">
        <img id="profile-img" src="" alt="Profile" class="w-8 h-8 rounded-full border-2 border-white">
        <span id="profile-name" class="text-sm font-medium"></span>
      </div>
    </div>
  </header>

  <nav class="bg-white shadow-sm border-b px-4 py-2 flex space-x-4 overflow-x-auto text-sm font-medium sticky top-[60px] z-40">
    <button onclick="window.loadEvents()" class="text-blue-600 hover:text-blue-800 whitespace-nowrap"><i class="fas fa-calendar-alt"></i> ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    <button onclick="window.loadMyCards()" class="text-blue-600 hover:text-blue-800 whitespace-nowrap"><i class="fas fa-ticket-alt"></i> ‡∏ö‡∏±‡∏ï‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</button>
    <button onclick="window.openQrScanner()" class="text-green-600 hover:text-green-800 whitespace-nowrap hidden" id="menu-staff-scan"><i class="fas fa-qrcode"></i> ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô (Staff)</button>
    <button onclick="window.openAdminDashboard()" class="text-purple-600 hover:text-purple-800 whitespace-nowrap hidden" id="menu-admin"><i class="fas fa-cog"></i> ‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Admin)</button>
  </nav>

  <main class="container mx-auto p-4">
    <section id="view-consent" class="view-section bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto mt-4">
      <h2 class="text-xl font-bold mb-4 text-center">‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (PDPA)</h2>
      <div class="h-48 overflow-y-auto bg-gray-50 p-4 rounded text-sm text-gray-700 mb-6 border">
        <p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° ‡∏û.‡∏£.‡∏ö. ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏ä‡∏∑‡πà‡∏≠, ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πà‡∏á</p>
      </div>
      <div class="flex space-x-4">
        <button id="btn-reject-consent" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg font-bold">‡πÑ‡∏°‡πà‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°</button>
        <button id="btn-accept-consent" class="flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold">‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°</button>
      </div>
    </section>

    <section id="view-event-list" class="view-section mt-4">
      <h2 class="text-xl font-bold mb-4">‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h2>
      <div id="event-cards-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </section>

    <section id="view-register" class="view-section bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto mt-4">
      <button onclick="window.loadEvents()" class="text-blue-500 mb-4 flex items-center"><i class="fas fa-arrow-left mr-1"></i> ‡∏Å‡∏•‡∏±‡∏ö</button>
      <h2 id="reg-event-title" class="text-2xl font-bold mb-2"></h2>
      <form id="form-register" class="mt-4">
        <input type="hidden" id="reg-event-id">
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á</label>
          <select id="reg-distance" class="w-full border-gray-300 rounded-lg p-3 border focus:ring-blue-500 bg-gray-50" required></select>
        </div>
        <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-bold shadow-md transition-all">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
      </form>
    </section>

    <section id="view-my-cards" class="view-section max-w-lg mx-auto mt-4">
      <h2 class="text-2xl font-bold mb-4 text-center">üéüÔ∏è ‡∏ö‡∏±‡∏ï‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
      <div id="my-cards-container" class="space-y-6"></div>
    </section>

    <section id="view-admin" class="view-section max-w-6xl mx-auto mt-4">
      <h2 class="text-xl font-bold mb-4">üìä Admin Dashboard</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 text-center">
        <div class="bg-white p-4 rounded shadow border-l-4 border-blue-500"><p class="text-xs text-gray-500">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p><h3 class="text-2xl font-bold text-blue-600" id="dash-total">0</h3></div>
        <div class="bg-white p-4 rounded shadow border-l-4 border-yellow-500"><p class="text-xs text-gray-500">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</p><h3 class="text-2xl font-bold text-yellow-600" id="dash-pending">0</h3></div>
        <div class="bg-white p-4 rounded shadow border-l-4 border-green-500"><p class="text-xs text-gray-500">Check-in ‡πÅ‡∏•‡πâ‡∏ß</p><h3 class="text-2xl font-bold text-green-600" id="dash-checkin">0</h3></div>
        <div class="bg-white p-4 rounded shadow border-l-4 border-red-500"><p class="text-xs text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤</p><h3 class="text-2xl font-bold text-red-600" id="dash-absent">0</h3></div>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <input type="text" id="admin-search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ BIB, ‡∏ä‡∏∑‡πà‡∏≠..." class="border rounded px-4 py-2 w-full md:w-1/3 mb-4 bg-gray-50">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm text-left whitespace-nowrap">
            <thead class="bg-gray-100 text-gray-600">
              <tr><th class="px-4 py-2">BIB</th><th class="px-4 py-2">‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</th><th class="px-4 py-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th><th class="px-4 py-2 text-center">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th></tr>
            </thead>
            <tbody id="admin-table-body" class="divide-y divide-gray-200"></tbody>
          </table>
        </div>
        <div class="flex justify-between items-center mt-4 text-sm">
          <span id="page-info">‡∏´‡∏ô‡πâ‡∏≤ 1</span>
          <div class="space-x-2">
            <button id="btn-prev-page" class="px-3 py-1 bg-gray-200 rounded hover:bg-gray-300">‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            <button id="btn-next-page" class="px-3 py-1 bg-gray-200 rounded hover:bg-gray-300">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="/src/main.ts"></script>
</body>
</html>
